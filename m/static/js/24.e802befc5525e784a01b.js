webpackJsonp([24],{RzWM:function(e,t){},gejy:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=s("bOdI"),n=s.n(r),i=s("Xxa5"),c=s.n(i),u=s("exGp"),o=s.n(u),l=s("yoxC"),p=s("HPD8"),d=s("ldx2"),h=s.n(d),m=s("M4fF"),f=s.n(m),_=s("Du/2"),g=(a={name:"Reward",data:function(){return{address:this.$route.params.address,list:[],page:1,per_page:99999}},created:function(){this.getDate()},computed:{},filters:{date:function(e){return h.a.format(e,"YYYY/MM/DD HH:mm:ss")},fee_format:function(e){return f.a.floor(p.a.getInstance().formatWei(e),8)},short_address:function(e){return e.slice(0,8)+"..."+e.slice(e.length-8,e.length)}}},n()(a,"computed",{}),n()(a,"methods",{pageChange:function(e){this.page=e,VueScrollTo.scrollTo("body",300)},getTxUrl:function(e){return"https://etherscan.io/tx/"+e},getDate:function(){var e=o()(c.a.mark(function e(){var t,s=this;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=!1,e.prev=1,this.$store.commit(_.z,!0),setTimeout(function(){t||(t=!0,s.$toast(s.$t("TOAST.CONENCT_ERROR")),setTimeout(function(){s.$store.commit(_.z,!1)},3e3))},12e4),e.next=6,l.a.getInstance().getRecommendReWard(this.address);case 6:this.list=e.sent,t=!0,this.$store.commit(_.z,!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0),t||(t=!0,this.$toast(this.$t("TOAST.CONENCT_ERROR")),setTimeout(function(){s.$store.commit(_.z,!1)},3e3));case 15:case"end":return e.stop()}},e,this,[[1,11]])}));return function(){return e.apply(this,arguments)}}()}),a),v=s("XyMi");var b=function(e){s("RzWM")},x=Object(v.a)(g,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"reward"}},[a("div",{staticClass:"title"},[a("h3",[e._v(e._s(e.$t("REWARD.TITLE0")))])]),a("div",{staticClass:"subtitle"},[a("span",[e._v(e._s(e.$t("REWARD.TIME")))]),a("span",[e._v(e._s(e.$t("REWARD.NUMBER")))])]),a("div",{staticClass:"items"},e._l(e.list.slice((e.page-1)*e.per_page,e.page*e.per_page),function(t,r){return a("div",{key:r,staticClass:"item"},[a("p",[a("span",{staticClass:"left"},[e._v(e._s(e._f("date")(t.timestamp)))]),a("span",{staticClass:"right"},[e._v(e._s(e._f("fee_format")(t.reward)))])]),a("p",["candy"==t.cause?a("span",{staticClass:"left row2"},[e._v(e._s(e.$t("REWARD.CAUSE_CANDY_RECOMMEND",{amount:t.era})))]):a("span",{staticClass:"left row2",attrs:{title:t.rel_address}},[e._v(e._s(e._f("short_address")(t.rel_address)))]),"$FP"==t.cause&&"2"==t.era?a("span",{staticClass:"right row2"},[e._v(e._s(e.$t("REWARD.CAUSE_"+t.cause.toUpperCase()+t.era+"_"+(t.rel_address==e.address).toString().toUpperCase())))]):"candy"==t.cause?a("span",{staticClass:"right row2"},[e._v(e._s(e.$t("REWARD.CAUSE_CANDY")))]):a("span",{staticClass:"right row2"},[e._v(e._s(e.$t("REWARD.CAUSE_"+t.cause.toUpperCase()+t.era)))])]),a("a",{staticClass:"details",attrs:{href:e.getTxUrl(t.hash),target:"_blank"}},[a("img",{attrs:{src:s("PS0s")}})])])}),0),a("div",{directives:[{name:"show",rawName:"v-show",value:e.list.length<=0,expression:"list.length <= 0"}],staticClass:"null"},["zh-CN"==e.$i18n.locale?a("img",{staticClass:"null-img",attrs:{src:s("QYA3")}}):a("img",{staticClass:"null-img",attrs:{src:s("huvA")}})])])},[],!1,b,"data-v-e16bf866",null);t.default=x.exports},yoxC:function(e,t,s){"use strict";var a=s("Xxa5"),r=s.n(a),n=s("exGp"),i=s.n(n),c=s("Zrlr"),u=s.n(c),o=s("wxAW"),l=s.n(o),p=s("M4fF"),d=s.n(p),h=s("HPD8"),m=(s("IcnI"),s("iGna")),f=s("k7rT"),_=(s("Du/2"),function(){function e(){u()(this,e),this.instance=null,this.web3=h.a.getInstance().web3}return l()(e,[{key:"getRecommendReWard",value:function(){var e=i()(r.a.mark(function e(t){var s,a,n,i,c,u,o,l,p,_,g,v,b,x;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=t.replace("0x","0x000000000000000000000000"),e.next=3,m.a.eventList(h.a.getInstance().getContractAddress(f.c),0,f.v,t);case 3:s=e.sent,a=s.data.result,n=[],i=f.b[f.g],delete(c=d.a.find(i.abi,{type:"event",name:"RecommendReward"})).inputs[0],delete c.inputs[1],u=0;case 11:if(!(u<a.length)){e.next=26;break}if(o=this.web3.eth.abi.decodeLog(c.inputs,a[u].data),l=h.a.getInstance().trim(this.web3.utils.hexToAscii(o._cause)),p=this.web3.utils.hexToNumberString(o._era),0!=(_=this.web3.utils.hexToNumberString(o._reward))){e.next=18;break}return e.abrupt("continue",23);case 18:g=this.web3.utils.hexToNumberString(o._total),v=1e3*this.web3.utils.hexToNumber(a[u].timeStamp),b=a[u].transactionHash,x=a[u].topics[2].replace("0x000000000000000000000000","0x"),n.push({cause:l,era:p,reward:_,total:g,hash:b,timestamp:v,rel_address:x});case 23:u++,e.next=11;break;case 26:return e.abrupt("return",n.reverse());case 27:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getRecommendPerformance",value:function(){var e=i()(r.a.mark(function e(t){var s,a,n,i,c,u,o,l,p,_,g,v,b;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=t.replace("0x","0x000000000000000000000000"),e.next=3,m.a.eventList(h.a.getInstance().getContractAddress(f.c),0,f.u,t);case 3:s=e.sent,a=s.data.result,n=[],i=f.b[f.g],delete(c=d.a.find(i.abi,{type:"event",name:"RecommendPerformance"})).inputs[0],delete c.inputs[1],u=0;case 11:if(!(u<a.length)){e.next=25;break}if(o=this.web3.eth.abi.decodeLog(c.inputs,a[u].data),l=h.a.getInstance().trim(this.web3.utils.hexToAscii(o._cause)),0!=(p=this.web3.utils.hexToNumberString(o._performance))){e.next=17;break}return e.abrupt("continue",22);case 17:_=this.web3.utils.hexToNumberString(o._total),g=1e3*this.web3.utils.hexToNumber(a[u].timeStamp),v=a[u].transactionHash,b=a[u].topics[2].replace("0x000000000000000000000000","0x"),n.push({cause:l,performance:p,total:_,timestamp:g,hash:v,rel_address:b});case 22:u++,e.next=11;break;case 25:return e.abrupt("return",n.reverse());case 26:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}],[{key:"getInstance",value:function(){return this.instance||(this.instance=new e),this.instance}}]),e}());t.a=_}});