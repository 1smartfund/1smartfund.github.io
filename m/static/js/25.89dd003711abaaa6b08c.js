webpackJsonp([25],{gejy:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s,r=a("bOdI"),n=a.n(r),i=a("Xxa5"),c=a.n(i),u=a("exGp"),o=a.n(u),l=a("yoxC"),d=a("HPD8"),p=a("ldx2"),h=a.n(p),f=a("M4fF"),m=a.n(f),_=(s={data:function(){return{address:this.$route.params.address,list:[],page:1,per_page:99999}},created:function(){var e=this;return o()(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.getInstance().getRecommendReWard(e.address);case 2:e.list=t.sent;case 3:case"end":return t.stop()}},t,e)}))()},computed:{},filters:{date:function(e){return h.a.format(e,"YYYY/MM/DD HH:mm:ss")},fee_format:function(e){return m.a.floor(d.a.getInstance().formatWei(e),8)},short_address:function(e){return e.slice(0,8)+"..."+e.slice(e.length-8,e.length)}}},n()(s,"computed",{}),n()(s,"methods",{pageChange:function(e){this.page=e,VueScrollTo.scrollTo("body",300)},getTxUrl:function(e){return"https://etherscan.io/tx/"+e}}),s),g=a("XyMi");var b=function(e){a("zcl/")},v=Object(g.a)(_,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"reward"}},[s("div",{staticClass:"title"},[s("h3",[e._v(e._s(e.$t("REWARD.TITLE0")))])]),s("div",{staticClass:"subtitle"},[s("span",[e._v(e._s(e.$t("REWARD.TIME")))]),s("span",[e._v(e._s(e.$t("REWARD.NUMBER")))])]),s("div",{staticClass:"items"},e._l(e.list.slice((e.page-1)*e.per_page,e.page*e.per_page),function(t,r){return s("div",{key:r,staticClass:"item"},[s("p",[s("span",{staticClass:"left"},[e._v(e._s(e._f("date")(t.timestamp)))]),s("span",{staticClass:"right"},[e._v(e._s(e._f("fee_format")(t.reward)))])]),s("p",["candy"==t.cause?s("span",{staticClass:"left row2"},[e._v(e._s(e.$t("REWARD.CAUSE_CANDY_RECOMMEND",{amount:t.era})))]):s("span",{staticClass:"left row2",attrs:{title:t.rel_address}},[e._v(e._s(e._f("short_address")(t.rel_address)))]),"$FP"==t.cause&&"2"==t.era?s("span",{staticClass:"right row2"},[e._v(e._s(e.$t("REWARD.CAUSE_"+t.cause.toUpperCase()+t.era+"_"+(t.reward==e.address).toString().toUpperCase())))]):"candy"==t.cause?s("span",{staticClass:"right row2"},[e._v(e._s(e.$t("REWARD.CAUSE_CANDY")))]):s("span",{staticClass:"right row2"},[e._v(e._s(e.$t("REWARD.CAUSE_"+t.cause.toUpperCase()+t.era)))])]),s("a",{staticClass:"details",attrs:{href:e.getTxUrl(t.hash),target:"_blank"}},[s("img",{attrs:{src:a("PS0s")}})])])}),0),s("div",{directives:[{name:"show",rawName:"v-show",value:e.list.length<=0,expression:"list.length <= 0"}],staticClass:"null"},["zh-CN"==e.$i18n.locale?s("img",{staticClass:"null-img",attrs:{src:a("QYA3")}}):s("img",{staticClass:"null-img",attrs:{src:a("huvA")}})])])},[],!1,b,"data-v-5bc2ba13",null);t.default=v.exports},yoxC:function(e,t,a){"use strict";var s=a("Xxa5"),r=a.n(s),n=a("exGp"),i=a.n(n),c=a("Zrlr"),u=a.n(c),o=a("wxAW"),l=a.n(o),d=a("M4fF"),p=a.n(d),h=a("HPD8"),f=(a("IcnI"),a("iGna")),m=a("k7rT"),_=(a("Du/2"),function(){function e(){u()(this,e),this.instance=null,this.web3=h.a.getInstance().web3}return l()(e,[{key:"getRecommendReWard",value:function(){var e=i()(r.a.mark(function e(t){var a,s,n,i,c,u,o,l,d,_,g,b,v,x;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=t.replace("0x","0x000000000000000000000000"),e.next=3,f.a.eventList(h.a.getInstance().getContractAddress(m.c),0,m.v,t);case 3:a=e.sent,s=a.data.result,n=[],i=m.b[m.g],delete(c=p.a.find(i.abi,{type:"event",name:"RecommendReward"})).inputs[0],delete c.inputs[1],u=0;case 11:if(!(u<s.length)){e.next=26;break}if(o=this.web3.eth.abi.decodeLog(c.inputs,s[u].data),l=h.a.getInstance().trim(this.web3.utils.hexToAscii(o._cause)),d=this.web3.utils.hexToNumberString(o._era),0!=(_=this.web3.utils.hexToNumberString(o._reward))){e.next=18;break}return e.abrupt("continue",23);case 18:g=this.web3.utils.hexToNumberString(o._total),b=1e3*this.web3.utils.hexToNumber(s[u].timeStamp),v=s[u].transactionHash,x=s[u].topics[2].replace("0x000000000000000000000000","0x"),n.push({cause:l,era:d,reward:_,total:g,hash:v,timestamp:b,rel_address:x});case 23:u++,e.next=11;break;case 26:return e.abrupt("return",n.reverse());case 27:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getRecommendPerformance",value:function(){var e=i()(r.a.mark(function e(t){var a,s,n,i,c,u,o,l,d,_,g,b,v;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=t.replace("0x","0x000000000000000000000000"),e.next=3,f.a.eventList(h.a.getInstance().getContractAddress(m.c),0,m.u,t);case 3:a=e.sent,s=a.data.result,n=[],i=m.b[m.g],delete(c=p.a.find(i.abi,{type:"event",name:"RecommendPerformance"})).inputs[0],delete c.inputs[1],u=0;case 11:if(!(u<s.length)){e.next=25;break}if(o=this.web3.eth.abi.decodeLog(c.inputs,s[u].data),l=h.a.getInstance().trim(this.web3.utils.hexToAscii(o._cause)),0!=(d=this.web3.utils.hexToNumberString(o._performance))){e.next=17;break}return e.abrupt("continue",22);case 17:_=this.web3.utils.hexToNumberString(o._total),g=1e3*this.web3.utils.hexToNumber(s[u].timeStamp),b=s[u].transactionHash,v=s[u].topics[2].replace("0x000000000000000000000000","0x"),n.push({cause:l,performance:d,total:_,timestamp:g,hash:b,rel_address:v});case 22:u++,e.next=11;break;case 25:return e.abrupt("return",n.reverse());case 26:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}],[{key:"getInstance",value:function(){return this.instance||(this.instance=new e),this.instance}}]),e}());t.a=_},"zcl/":function(e,t){}});