webpackJsonp([25],{DowW:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("Xxa5"),n=s.n(a),r=s("exGp"),i=s.n(r),c=s("yoxC"),u=s("HPD8"),o=s("ldx2"),l=s.n(o),h=s("M4fF"),p=s.n(h),m=s("Du/2"),d={data:function(){return{address:this.$route.params.address,list:[],page:1,per_page:99999}},created:function(){var e=this;return i()(n.a.mark(function t(){return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.getDate();case 1:case"end":return t.stop()}},t,e)}))()},filters:{date:function(e){return l.a.format(e,"YYYY/MM/DD HH:mm:ss")},fee_format:function(e){return p.a.floor(u.a.getInstance().formatWei(e),8)},short_address:function(e){return e.slice(0,12)+"..."+e.slice(e.length-12,e.length)}},computed:{},methods:{getTxUrl:function(e){return"https://etherscan.io/tx/"+e},getDate:function(){var e=i()(n.a.mark(function e(){var t,s=this;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=!1,e.prev=1,this.$store.commit(m.z,!0),setTimeout(function(){t||(t=!0,s.$toast(s.$t("TOAST.CONENCT_ERROR")),setTimeout(function(){s.$store.commit(m.z,!1)},3e3))},12e4),e.next=6,c.a.getInstance().getRecommendPerformance(this.address);case 6:this.list=e.sent,t=!0,this.$store.commit(m.z,!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0),t||(t=!0,this.$toast(this.$t("TOAST.CONENCT_ERROR")),setTimeout(function(){s.$store.commit(m.z,!1)},3e3));case 15:case"end":return e.stop()}},e,this,[[1,11]])}));return function(){return e.apply(this,arguments)}}()}},f=s("XyMi");var g=function(e){s("Z+Qr")},v=Object(f.a)(d,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"direc-push"}},[a("div",{staticClass:"title"},[a("h3",[e._v(e._s(e.$t("REWARD.TITLE1")))])]),a("div",{staticClass:"subtitle"},[a("span",[e._v(e._s(e.$t("REWARD.TIME")))]),a("span",[e._v(e._s(e.$t("REWARD.PURCHASE_NUMBER")))])]),a("div",{staticClass:"items"},e._l(e.list.slice((e.page-1)*e.per_page,e.page*e.per_page),function(t,n){return a("div",{key:n,staticClass:"item"},[a("p",[a("span",{staticClass:"left"},[e._v(e._s(e._f("date")(t.timestamp)))]),a("span",{staticClass:"right"},[e._v(e._s(e._f("fee_format")(t.performance)))])]),a("p",{staticClass:"row2",attrs:{title:t.rel_address}},[e._v(e._s(e._f("short_address")(t.rel_address)))]),a("a",{staticClass:"details",attrs:{href:e.getTxUrl(t.hash),target:"_blank"}},[a("img",{attrs:{src:s("PS0s")}})])])}),0),a("div",{directives:[{name:"show",rawName:"v-show",value:e.list.length<=0,expression:"list.length <= 0"}],staticClass:"null"},["zh-CN"==e.$i18n.locale?a("img",{staticClass:"null-img",attrs:{src:s("QYA3")}}):a("img",{staticClass:"null-img",attrs:{src:s("huvA")}})])])},[],!1,g,"data-v-457aa7ce",null);t.default=v.exports},"Z+Qr":function(e,t){},yoxC:function(e,t,s){"use strict";var a=s("Xxa5"),n=s.n(a),r=s("exGp"),i=s.n(r),c=s("Zrlr"),u=s.n(c),o=s("wxAW"),l=s.n(o),h=s("M4fF"),p=s.n(h),m=s("HPD8"),d=(s("IcnI"),s("iGna")),f=s("k7rT"),g=(s("Du/2"),function(){function e(){u()(this,e),this.instance=null,this.web3=m.a.getInstance().web3}return l()(e,[{key:"getRecommendReWard",value:function(){var e=i()(n.a.mark(function e(t){var s,a,r,i,c,u,o,l,h,g,v,x,b,_;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=t.replace("0x","0x000000000000000000000000"),e.next=3,d.a.eventList(m.a.getInstance().getContractAddress(f.c),0,f.v,t);case 3:s=e.sent,a=s.data.result,r=[],i=f.b[f.g],delete(c=p.a.find(i.abi,{type:"event",name:"RecommendReward"})).inputs[0],delete c.inputs[1],u=0;case 11:if(!(u<a.length)){e.next=26;break}if(o=this.web3.eth.abi.decodeLog(c.inputs,a[u].data),l=m.a.getInstance().trim(this.web3.utils.hexToAscii(o._cause)),h=this.web3.utils.hexToNumberString(o._era),0!=(g=this.web3.utils.hexToNumberString(o._reward))){e.next=18;break}return e.abrupt("continue",23);case 18:v=this.web3.utils.hexToNumberString(o._total),x=1e3*this.web3.utils.hexToNumber(a[u].timeStamp),b=a[u].transactionHash,_=a[u].topics[2].replace("0x000000000000000000000000","0x"),r.push({cause:l,era:h,reward:g,total:v,hash:b,timestamp:x,rel_address:_});case 23:u++,e.next=11;break;case 26:return e.abrupt("return",r.reverse());case 27:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getRecommendPerformance",value:function(){var e=i()(n.a.mark(function e(t){var s,a,r,i,c,u,o,l,h,g,v,x,b;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=t.replace("0x","0x000000000000000000000000"),e.next=3,d.a.eventList(m.a.getInstance().getContractAddress(f.c),0,f.u,t);case 3:s=e.sent,a=s.data.result,r=[],i=f.b[f.g],delete(c=p.a.find(i.abi,{type:"event",name:"RecommendPerformance"})).inputs[0],delete c.inputs[1],u=0;case 11:if(!(u<a.length)){e.next=25;break}if(o=this.web3.eth.abi.decodeLog(c.inputs,a[u].data),l=m.a.getInstance().trim(this.web3.utils.hexToAscii(o._cause)),0!=(h=this.web3.utils.hexToNumberString(o._performance))){e.next=17;break}return e.abrupt("continue",22);case 17:g=this.web3.utils.hexToNumberString(o._total),v=1e3*this.web3.utils.hexToNumber(a[u].timeStamp),x=a[u].transactionHash,b=a[u].topics[2].replace("0x000000000000000000000000","0x"),r.push({cause:l,performance:h,total:g,timestamp:v,hash:x,rel_address:b});case 22:u++,e.next=11;break;case 25:return e.abrupt("return",r.reverse());case 26:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}],[{key:"getInstance",value:function(){return this.instance||(this.instance=new e),this.instance}}]),e}());t.a=g}});